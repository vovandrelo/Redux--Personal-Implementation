# Redux. Personal implementation

Данное приложение представляет собой Pet-проект, в котором были реализованы все основные функции Redux с точным попаданием в API настоящего Redux.

## Структура проекта
Основная часть проекта располагается в папке store и представляет собой собственную реализацию Redux.

Структура папки store:
- components - компоненты, необходимые для работы Redux, в данном случае там реализуется компонент Provider;
- context - вспомогательный компонент, позволяющий реализовать Provider и предоставить доступ всем компонентам к ГС;
- hook - реализация хуков useSelector и useDispatch;
- modules - модули, на которые разбивается ГС;
- Store - реализация внутреннего устройства ГС;
- store.js - создание и конфигурация ГС;

## Конспект
### Какие проблемы возникают при использовании React?

В тех случаях, когда несколько компонентов, находящихся на разном уровне иерархии, должны изменять своё состояние в зависимости от каких-то внешних данных, используется поднятие состояния.

Поднятие состояния - это реализация, при которой данные, изменение которых должно повлиять на компоненты, находящиеся на разном уровне иерархии, указываются в качестве состояния их общего предка-компонента, а к дочерним передаётся через пропсы.

Однако, величина вложенности компонентов может быть достаточно большой, а так же надобность в передаваемых данных может присутствовать только у самого "глубокого" компонента, получается, все промежуточные звенья будут хранить эти данные и перерендериваться от их изменения зря.

### Использование контекста

Одним из способов относительного решения проблемы является использование контекста.

Контекст - некое подобие глобальной переменной, к которой имеют доступ указанные компоненты.

Контекст позволяет хранить не только само глобальное состояние нескольких компонентов, но и функцию для его изменения. То есть из компонента можно не только получить доступ к некоторым глобальным данным, но и поменять их.

Контекст позволяет решить проблему передачи данных через множество компонентов, однако, проблема перерендера всех промежуточных компонентов остаётся открытой, так как при изменении контекста перерендериваются все компоненты, через которые он проходит.

### Проблемы контекста

Как только появляется необходимость в создании ещё одного глобального значения, возникают следующие проблемы:
- Новое значение добавляется в уже существующий контекст, но в таком случае контекст рано или поздно сильно разрастётся, что приведёт к запутанной логике его работы. Например, изменение хотя бы одного значения контекста приведёт к перерендеру всех компонентов, зависящих от данного контекста, но использующих совсем другие значения контекста. 
- Создание новое контекста, но в таком случае контекстов рано или поздно станет слишком много и в них будет легко запутаться.

Для решения всех проблем, связанных с контекстом, необходимо придумать единый источник истинности, который будет хранить сложные состояния, и при изменении которого будет происходить перерендер только необходимых компонентов, а не всего приложения.

### Redux
Redux позволяет создавать в приложении некое глобальное состояние и обращаться к нему из любого компонента как для извлечения каких-либо данных, так и для их изменения. Причём, перерендеру будут подвергаться только те компоненты, которые
как-либо зависят от изменённых данных.

#### Изменение глобального состояния
Изменение глобального состояния происходит на основании некоторых правил, который называются действиями (actions). Чтобы изменить глобальное состояние необходимо выбрать нужный action и передать его в dispatch, который, в свою очередь, отправит указанное действие в reducer. Reducer представляет собой механизм, имеющий информацию о всевозможных действиях над ГС и реализующий изменение ГС.

То есть, изменение ГС происходит в 5 этапов:
- Разработчиком выбирается небходимое действие;
- Выбранное действие передаётся в dispatch;
- Dispatch передаёт действие в reducer;
- Reducer идентифицирует действие;
- После идентификации reducer необходимым образом изменяет состояние;

#### Получение доступа к конкретной части ГС
Получение доступа к конкретной части ГС осуществляется с помощью selector-а - функции, которая извлекает из ГС необходимые данные.

#### API
- Создание глобального состояния происходит с помощью функции createStore.
- Для предоставления всем компонентам доступа к ГС их необходимо расположить внутри компонента Provider.
- Для изменения ГС внутри компонента необходимо получить dispatch, который извлекается с помощью хука useDispatch().
- Для получения какой-то части ГС внутри компонента и последующей подписки на него, необходимо использовать хук useSelector, в качестве аргумента которого принимается функция (selector), извлекающая из ГС необходимую часть.


## Запуск приложения
Для запуска приложения в терминале необходимо выполнить команду: npm run start